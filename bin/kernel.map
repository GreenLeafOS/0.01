
Allocating common symbols
Common symbol       size              file

mod_time_id         0x2               bin/micro-kernel.o
gdt_table           0x100             bin/arch.o
idt_ptr             0x6               bin/arch.o
kernel_reenter      0x4               bin/micro-kernel.o
handle_ret_addr     0x4               bin/micro-kernel.o
zone                0x90              bin/micro-kernel.o
thread_table        0x80              bin/micro-kernel.o
tss                 0x6c              bin/arch.o
thread_queue_ready  0x8               bin/micro-kernel.o
thread_queue_sleep  0x8               bin/micro-kernel.o
handle_err_code     0x4               bin/micro-kernel.o
kernel_stack_top    0x4               bin/micro-kernel.o
thread_run          0x4               bin/micro-kernel.o
gdt_ptr             0x6               bin/arch.o
thread_run_stack_top
                    0x4               bin/micro-kernel.o
page_dir            0x1000            bin/micro-kernel.o
tss_sel             0x2               bin/arch.o
ldt_ptr             0x6               bin/arch.o
idt_table           0x800             bin/arch.o
ldt_table           0x40              bin/arch.o

Discarded input sections

 .note.GNU-stack
                0x0000000000000000        0x0 bin/arch.o
 .note.GNU-stack
                0x0000000000000000        0x0 bin/micro-kernel.o
 .note.GNU-stack
                0x0000000000000000        0x0 bin/lib.o

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x0000000000000000 0xffffffffffffffff

Linker script and memory map

Address of section .text set to 0x100000
Address of section bios set to 0x30000
LOAD bin/arch.o
LOAD bin/micro-kernel.o
LOAD bin/lib.o
                0x0000000008048000                PROVIDE (__executable_start, 0x8048000)
                0x0000000008048094                . = (0x8048000 + SIZEOF_HEADERS)

.interp
 *(.interp)

.note.gnu.build-id
 *(.note.gnu.build-id)

.hash
 *(.hash)

.gnu.hash
 *(.gnu.hash)

.dynsym
 *(.dynsym)

.dynstr
 *(.dynstr)

.gnu.version
 *(.gnu.version)

.gnu.version_d
 *(.gnu.version_d)

.gnu.version_r
 *(.gnu.version_r)

.rel.dyn        0x0000000008048094        0x0
 *(.rel.init)
 *(.rel.text .rel.text.* .rel.gnu.linkonce.t.*)
 .rel.text      0x0000000000000000        0x0 bin/arch.o
 *(.rel.fini)
 *(.rel.rodata .rel.rodata.* .rel.gnu.linkonce.r.*)
 *(.rel.data.rel.ro* .rel.gnu.linkonce.d.rel.ro.*)
 *(.rel.data .rel.data.* .rel.gnu.linkonce.d.*)
 *(.rel.tdata .rel.tdata.* .rel.gnu.linkonce.td.*)
 *(.rel.tbss .rel.tbss.* .rel.gnu.linkonce.tb.*)
 *(.rel.ctors)
 *(.rel.dtors)
 *(.rel.got)
 *(.rel.bss .rel.bss.* .rel.gnu.linkonce.b.*)
 *(.rel.ifunc)

.rel.plt        0x0000000008048094        0x0
 *(.rel.plt)
                0x0000000008048094                PROVIDE (__rel_iplt_start, .)
 *(.rel.iplt)
 .rel.iplt      0x0000000000000000        0x0 bin/arch.o
                0x0000000008048094                PROVIDE (__rel_iplt_end, .)

.init
 *(.init)

.plt            0x00000000080480a0        0x0
 *(.plt)
 *(.iplt)
 .iplt          0x0000000000000000        0x0 bin/arch.o

.text           0x0000000000100000     0x2d38
 *(.text.unlikely .text.*_unlikely)
 *(.text.exit .text.exit.*)
 *(.text.startup .text.startup.*)
 *(.text.hot .text.hot.*)
 *(.text .stub .text.* .gnu.linkonce.t.*)
 .text          0x0000000000100000      0x7cc bin/arch.o
                0x0000000000100000                _start
                0x0000000000100038                print
                0x0000000000100078                desc_init
                0x0000000000100100                desc_create
                0x0000000000100143                gate_init
                0x00000000001001a6                gate_create
                0x00000000001001f8                gdt_add
                0x0000000000100252                gdt_remove
                0x0000000000100275                gdt_set
                0x00000000001002a6                gdt_get
                0x00000000001002cc                gdt_load
                0x0000000000100304                ldt_init
                0x0000000000100309                ldt_add
                0x0000000000100363                ldt_remove
                0x0000000000100386                ldt_set
                0x00000000001003b7                ldt_get
                0x00000000001003dd                ldt_load
                0x0000000000100414                idt_set
                0x0000000000100430                idt_get
                0x000000000010044e                idt_init_call
                0x00000000001004aa                idt_init_intr
                0x0000000000100506                idt_init_trap
                0x0000000000100562                idt_init_task
                0x00000000001005be                idt_load
                0x00000000001005f4                page_link
                0x0000000000100675                page_directory_load
                0x000000000010068c                tss_load
                0x00000000001006c2                init_8259A
                0x0000000000100794                print_pos
 *fill*         0x00000000001007cc        0x4 90909090
 .text          0x00000000001007d0     0x1fe8 bin/micro-kernel.o
                0x00000000001007d0                save
                0x000000000010081f                restart
                0x0000000000100850                hwint00
                0x0000000000100870                hwint01
                0x0000000000100890                hwint02
                0x00000000001008b0                hwint03
                0x00000000001008d0                hwint04
                0x00000000001008f0                hwint05
                0x0000000000100910                hwint06
                0x0000000000100930                hwint07
                0x0000000000100950                hwint08
                0x0000000000100980                hwint09
                0x00000000001009b0                hwint10
                0x00000000001009e0                hwint11
                0x0000000000100a10                hwint12
                0x0000000000100a40                hwint13
                0x0000000000100a70                hwint14
                0x0000000000100aa0                hwint15
                0x0000000000100ac3                divide_error
                0x0000000000100ae1                single_step_exception
                0x0000000000100aff                nmi
                0x0000000000100b1d                breakpoint_exception
                0x0000000000100b3b                overflow
                0x0000000000100b59                bounds_check
                0x0000000000100b77                inval_opcode
                0x0000000000100b95                copr_not_available
                0x0000000000100bb3                double_fault
                0x0000000000100bcf                copr_seg_overrun
                0x0000000000100bed                inval_tss
                0x0000000000100c09                segment_not_present
                0x0000000000100c25                stack_exception
                0x0000000000100c41                general_protection
                0x0000000000100c5d                page_fault
                0x0000000000100c79                copr_error
                0x0000000000100c98                wait
                0x0000000000100cdd                exit
                0x0000000000100d0c                kernel_main
                0x0000000000100d4e                kernel_main_thread
                0x0000000000100d90                main_thread_create
                0x0000000000100e3c                handle_intr
                0x0000000000100ea6                handler_exception
                0x0000000000100f18                page_init
                0x0000000000101026                gdt_init
                0x000000000010114b                tss_init
                0x00000000001011cf                idt_init
                0x000000000010168e                post
                0x000000000010172d                recv
                0x0000000000101888                thread_init
                0x0000000000101945                thread_set
                0x0000000000101985                thread_wait
                0x00000000001019b4                thread_exit
                0x0000000000101a3f                thread_schedule
                0x0000000000101b35                create
                0x0000000000101bd2                ready
                0x0000000000101c08                sleep
                0x0000000000101c49                wake
                0x0000000000101c8a                kill
                0x0000000000101d0c                public_msg_do
                0x0000000000101d44                debug2
                0x0000000000101d84                debug
                0x0000000000101ddb                debug1
                0x0000000000101e4c                public_msg_main
                0x0000000000101f60                buddy_init
                0x000000000010211d                page_search
                0x0000000000102164                page_alloc
                0x000000000010226a                page_free
                0x00000000001023d0                page_is_buddy
                0x000000000010240b                alloc
                0x0000000000102458                free
                0x00000000001024d0                mod_time_show
                0x00000000001026bb                mod_time_read_cmos
                0x000000000010271b                mod_time_do
                0x000000000010272d                mod_time_main
 .text          0x00000000001027b8      0x580 bin/lib.o
                0x00000000001027b8                memset
                0x00000000001027d0                memcpy
                0x0000000000102805                strcpy
                0x000000000010283e                strcat
                0x0000000000102888                list_init
                0x00000000001028a4                list_add
                0x00000000001028f3                list_addtail
                0x000000000010293f                list_search
                0x0000000000102987                list_insert
                0x00000000001029f4                list_unlink
                0x0000000000102a2d                list_delete
                0x0000000000102a67                list_empty
                0x0000000000102adc                itoa
                0x0000000000102d04                dbcd_to_str
 *(.gnu.warning)

.fini
 *(.fini)
                0x0000000000102d38                PROVIDE (__etext, .)
                0x0000000000102d38                PROVIDE (_etext, .)
                0x0000000000102d38                PROVIDE (etext, .)

.rodata         0x0000000000102d40      0x12c
 *(.rodata .rodata.* .gnu.linkonce.r.*)
 .rodata        0x0000000000102d40      0x12c bin/micro-kernel.o
                0x0000000000102d80                msg_priority_table

.rodata1
 *(.rodata1)

.eh_frame_hdr
 *(.eh_frame_hdr)

.eh_frame       0x0000000000102e6c      0xb44
 *(.eh_frame)
 .eh_frame      0x0000000000102e6c      0x3ac bin/arch.o
                                        0x454 (size before relaxing)
 .eh_frame      0x0000000000103218      0x5ec bin/micro-kernel.o
                                        0x6ac (size before relaxing)
 .eh_frame      0x0000000000103804      0x1ac bin/lib.o
                                        0x20c (size before relaxing)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)
                0x00000000001039b0                . = (ALIGN (0x1000) - ((0x1000 - .) & 0xfff))
                0x0000000000104000                . = DATA_SEGMENT_ALIGN (0x1000, 0x1000)

.eh_frame
 *(.eh_frame)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)

.tdata
 *(.tdata .tdata.* .gnu.linkonce.td.*)

.tbss
 *(.tbss .tbss.* .gnu.linkonce.tb.*)
 *(.tcommon)

.preinit_array  0x0000000000104000        0x0
                0x0000000000104000                PROVIDE (__preinit_array_start, .)
 *(.preinit_array)
                0x0000000000104000                PROVIDE (__preinit_array_end, .)

.init_array     0x0000000000104000        0x0
                0x0000000000104000                PROVIDE (__init_array_start, .)
 *(SORT(.init_array.*) SORT(.ctors.*))
 *(.init_array)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .ctors)
                0x0000000000104000                PROVIDE (__init_array_end, .)

.fini_array     0x0000000000104000        0x0
                0x0000000000104000                PROVIDE (__fini_array_start, .)
 *(SORT(.fini_array.*) SORT(.dtors.*))
 *(.fini_array)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .dtors)
                0x0000000000104000                PROVIDE (__fini_array_end, .)

.ctors
 *crtbegin.o(.ctors)
 *crtbegin?.o(.ctors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .ctors)
 *(SORT(.ctors.*))
 *(.ctors)

.dtors
 *crtbegin.o(.dtors)
 *crtbegin?.o(.dtors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .dtors)
 *(SORT(.dtors.*))
 *(.dtors)

.jcr
 *(.jcr)

.data.rel.ro
 *(.data.rel.ro.local* .gnu.linkonce.d.rel.ro.local.*)
 *(.data.rel.ro* .gnu.linkonce.d.rel.ro.*)

.dynamic
 *(.dynamic)

.got
 *(.got)
 *(.igot)
                0x0000000000104000                . = DATA_SEGMENT_RELRO_END (., 0xc)

.got.plt        0x0000000000104000        0x0
 *(.got.plt)
 *(.igot.plt)
 .igot.plt      0x0000000000000000        0x0 bin/arch.o

.data           0x0000000000104000       0xf4
 *(.data .data.* .gnu.linkonce.d.*)
 .data          0x0000000000104000        0x0 bin/arch.o
 .data          0x0000000000104000       0xf4 bin/micro-kernel.o
                0x0000000000104000                msg_ok
                0x0000000000104010                msg_max
                0x0000000000104020                msg_reg
                0x0000000000104040                thread_default_reg
                0x00000000001040a0                day_of_week_table
 .data          0x00000000001040f4        0x0 bin/lib.o

.data1
 *(.data1)
                0x00000000001040f4                _edata = .
                0x00000000001040f4                PROVIDE (edata, .)
                0x00000000001040f4                __bss_start = .

.bss            0x0000000000104100     0x2d80
 *(.dynbss)
 *(.bss .bss.* .gnu.linkonce.b.*)
 .bss           0x0000000000104100        0x4 bin/arch.o
                0x0000000000104100                disp_pos
 *fill*         0x0000000000104104       0x1c 00
 .bss           0x0000000000104120     0x1204 bin/micro-kernel.o
                0x0000000000104120                msg_reg_table
                0x0000000000105320                order
 .bss           0x0000000000105324        0x0 bin/lib.o
 *(COMMON)
 *fill*         0x0000000000105324       0x1c 00
 COMMON         0x0000000000105340      0x9e0 bin/arch.o
                0x0000000000105340                gdt_table
                0x0000000000105440                idt_ptr
                0x0000000000105460                tss
                0x00000000001054cc                gdt_ptr
                0x00000000001054d2                tss_sel
                0x00000000001054d4                ldt_ptr
                0x00000000001054e0                idt_table
                0x0000000000105ce0                ldt_table
 COMMON         0x0000000000105d20     0x1160 bin/micro-kernel.o
                0x0000000000105d20                mod_time_id
                0x0000000000105d24                kernel_reenter
                0x0000000000105d28                handle_ret_addr
                0x0000000000105d40                zone
                0x0000000000105de0                thread_table
                0x0000000000105e60                thread_queue_ready
                0x0000000000105e68                thread_queue_sleep
                0x0000000000105e70                handle_err_code
                0x0000000000105e74                kernel_stack_top
                0x0000000000105e78                thread_run
                0x0000000000105e7c                thread_run_stack_top
                0x0000000000105e80                page_dir
                0x0000000000106e80                . = ALIGN ((. != 0x0)?0x4:0x1)
                0x0000000000106e80                . = ALIGN (0x4)
                0x0000000000106e80                . = ALIGN (0x4)
                0x0000000000106e80                _end = .
                0x0000000000106e80                PROVIDE (end, .)
                0x0000000000106e80                . = DATA_SEGMENT_END (.)

.stab
 *(.stab)

.stabstr
 *(.stabstr)

.stab.excl
 *(.stab.excl)

.stab.exclstr
 *(.stab.exclstr)

.stab.index
 *(.stab.index)

.stab.indexstr
 *(.stab.indexstr)

.comment        0x0000000000000000       0x2a
 *(.comment)
 .comment       0x0000000000000000       0x2a bin/arch.o
                                        0x158 (size before relaxing)
 .comment       0x0000000000000000      0x183 bin/micro-kernel.o
 .comment       0x0000000000000000       0xac bin/lib.o

.debug
 *(.debug)

.line
 *(.line)

.debug_srcinfo
 *(.debug_srcinfo)

.debug_sfnames
 *(.debug_sfnames)

.debug_aranges
 *(.debug_aranges)

.debug_pubnames
 *(.debug_pubnames)

.debug_info
 *(.debug_info .gnu.linkonce.wi.*)

.debug_abbrev
 *(.debug_abbrev)

.debug_line
 *(.debug_line)

.debug_frame
 *(.debug_frame)

.debug_str
 *(.debug_str)

.debug_loc
 *(.debug_loc)

.debug_macinfo
 *(.debug_macinfo)

.debug_weaknames
 *(.debug_weaknames)

.debug_funcnames
 *(.debug_funcnames)

.debug_typenames
 *(.debug_typenames)

.debug_varnames
 *(.debug_varnames)

.debug_pubtypes
 *(.debug_pubtypes)

.debug_ranges
 *(.debug_ranges)

.gnu.attributes
 *(.gnu.attributes)

/DISCARD/
 *(.note.GNU-stack)
 *(.gnu_debuglink)
 *(.gnu.lto_*)
OUTPUT(bin/kernel.bin elf32-i386)

bios            0x0000000000030000      0x300
 bios           0x0000000000030000      0x300 bin/arch.o
                0x0000000000030000                mem_info
                0x0000000000030200                mem_mcr_number
                0x0000000000030204                mem_size
                0x0000000000030208                mem_used_map
                0x000000000003020c                mem_used_map_max
                0x0000000000030300                cmos_info

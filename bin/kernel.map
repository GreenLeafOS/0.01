
Allocating common symbols
Common symbol       size              file

gdt_table           0x100             bin/arch.o
idt_ptr             0x6               bin/arch.o
msg_reg_table       0x1200            bin/micro-kernel.o
thread_table        0x80              bin/micro-kernel.o
tss                 0x6c              bin/arch.o
thread_queue_ready  0x8               bin/micro-kernel.o
ret_addr            0x4               bin/micro-kernel.o
err_code            0x4               bin/micro-kernel.o
thread_queue_sleep  0x8               bin/micro-kernel.o
thread_run          0x4               bin/micro-kernel.o
gdt_ptr             0x6               bin/arch.o
thread_table_data   0x4               bin/micro-kernel.o
tss_sel             0x2               bin/arch.o
ldt_ptr             0x6               bin/arch.o
idt_table           0x800             bin/arch.o
ldt_table           0x40              bin/arch.o

Discarded input sections

 .note.GNU-stack
                0x0000000000000000        0x0 bin/micro-kernel.o
 .note.GNU-stack
                0x0000000000000000        0x0 bin/arch.o
 .note.GNU-stack
                0x0000000000000000        0x0 bin/lib.o

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x0000000000000000 0xffffffffffffffff

Linker script and memory map

Address of section .text set to 0x100000
Address of section memory set to 0x15000
LOAD bin/micro-kernel.o
LOAD bin/arch.o
LOAD bin/lib.o
                0x0000000008048000                PROVIDE (__executable_start, 0x8048000)
                0x0000000008048094                . = (0x8048000 + SIZEOF_HEADERS)

.interp
 *(.interp)

.note.gnu.build-id
 *(.note.gnu.build-id)

.hash
 *(.hash)

.gnu.hash
 *(.gnu.hash)

.dynsym
 *(.dynsym)

.dynstr
 *(.dynstr)

.gnu.version
 *(.gnu.version)

.gnu.version_d
 *(.gnu.version_d)

.gnu.version_r
 *(.gnu.version_r)

.rel.dyn        0x0000000008048094        0x0
 *(.rel.init)
 *(.rel.text .rel.text.* .rel.gnu.linkonce.t.*)
 .rel.text      0x0000000000000000        0x0 bin/micro-kernel.o
 *(.rel.fini)
 *(.rel.rodata .rel.rodata.* .rel.gnu.linkonce.r.*)
 *(.rel.data.rel.ro* .rel.gnu.linkonce.d.rel.ro.*)
 *(.rel.data .rel.data.* .rel.gnu.linkonce.d.*)
 .rel.data      0x0000000000000000        0x0 bin/micro-kernel.o
 *(.rel.tdata .rel.tdata.* .rel.gnu.linkonce.td.*)
 *(.rel.tbss .rel.tbss.* .rel.gnu.linkonce.tb.*)
 *(.rel.ctors)
 *(.rel.dtors)
 *(.rel.got)
 *(.rel.bss .rel.bss.* .rel.gnu.linkonce.b.*)
 *(.rel.ifunc)

.rel.plt        0x0000000008048094        0x0
 *(.rel.plt)
                0x0000000008048094                PROVIDE (__rel_iplt_start, .)
 *(.rel.iplt)
 .rel.iplt      0x0000000000000000        0x0 bin/micro-kernel.o
                0x0000000008048094                PROVIDE (__rel_iplt_end, .)

.init
 *(.init)

.plt            0x00000000080480a0        0x0
 *(.plt)
 *(.iplt)
 .iplt          0x0000000000000000        0x0 bin/micro-kernel.o

.text           0x0000000000100000     0x1f8c
 *(.text.unlikely .text.*_unlikely)
 *(.text.exit .text.exit.*)
 *(.text.startup .text.startup.*)
 *(.text.hot .text.hot.*)
 *(.text .stub .text.* .gnu.linkonce.t.*)
 .text          0x0000000000100000      0xf40 bin/micro-kernel.o
                0x0000000000100000                divide_error
                0x0000000000100028                single_step_exception
                0x0000000000100050                nmi
                0x0000000000100078                breakpoint_exception
                0x00000000001000a0                overflow
                0x00000000001000c8                bounds_check
                0x00000000001000f0                inval_opcode
                0x0000000000100118                copr_not_available
                0x0000000000100140                double_fault
                0x0000000000100166                copr_seg_overrun
                0x000000000010018e                inval_tss
                0x00000000001001b4                segment_not_present
                0x00000000001001da                stack_exception
                0x0000000000100200                general_protection
                0x0000000000100226                page_fault
                0x000000000010024c                copr_error
                0x0000000000100280                hwint00
                0x00000000001002b0                hwint01
                0x00000000001002e0                hwint02
                0x0000000000100310                hwint03
                0x0000000000100340                hwint04
                0x0000000000100370                hwint05
                0x00000000001003a0                hwint06
                0x00000000001003d0                hwint07
                0x0000000000100400                hwint08
                0x0000000000100430                hwint09
                0x0000000000100460                hwint10
                0x0000000000100490                hwint11
                0x00000000001004c0                hwint12
                0x00000000001004f0                hwint13
                0x0000000000100520                hwint14
                0x0000000000100550                hwint15
                0x0000000000100580                save
                0x0000000000100593                restart
                0x000000000010059c                KernelMain
                0x0000000000100619                mod_load
                0x0000000000100793                thread_create
                0x00000000001008b0                thread_sleep
                0x0000000000100931                thread_wake
                0x00000000001009af                thread_kill
                0x0000000000100a2c                thread_schedule
                0x0000000000100aa9                msg_send
                0x0000000000100ae8                msg_handle
                0x0000000000100b67                msg_register
                0x0000000000100bb1                msg_recv
                0x0000000000100bbb                msg_post
                0x0000000000100bc0                idt_init
                0x0000000000100f2c                intr_handle
                0x0000000000100f36                exception_handler
 .text          0x0000000000100f40      0xe12 bin/arch.o
                0x0000000000100f40                _start
                0x0000000000100f74                print
                0x0000000000100fb4                desc_init
                0x000000000010103c                desc_create
                0x000000000010107f                gdt_get_sel
                0x00000000001010a4                ldt_get_sel
                0x00000000001010c9                gate_init
                0x000000000010112c                gate_create
                0x000000000010117c                gdt_init
                0x00000000001012a1                gdt_add
                0x00000000001012fb                gdt_remove
                0x000000000010131e                gdt_set
                0x000000000010134f                gdt_get
                0x0000000000101375                gdt_load
                0x00000000001013ac                ldt_init
                0x00000000001013b1                ldt_add
                0x000000000010140b                ldt_remove
                0x000000000010142e                ldt_set
                0x000000000010145f                ldt_get
                0x0000000000101485                ldt_load
                0x00000000001014bc                idt_set
                0x00000000001014d8                idt_get
                0x00000000001014f6                idt_init_call
                0x0000000000101552                idt_init_intr
                0x00000000001015ae                idt_init_trap
                0x000000000010160a                idt_init_task
                0x0000000000101666                idt_load
                0x000000000010169c                page_link
                0x000000000010171d                page_init
                0x000000000010184b                page_directory_load
                0x0000000000101864                mem_init
                0x000000000010195e                mem_page_busy
                0x00000000001019b6                mem_page_free
                0x0000000000101a10                mem_page_getfree
                0x0000000000101abe                mem_page_alloc
                0x0000000000101bd0                tss_init
                0x0000000000101c4d                tss_load
                0x0000000000101c82                init_8259A
 *fill*         0x0000000000101d52        0x2 90909090
 .text          0x0000000000101d54      0x238 bin/lib.o
                0x0000000000101d54                memcpy
                0x0000000000101d8c                list_init
                0x0000000000101da8                list_add
                0x0000000000101df4                list_search
                0x0000000000101e3d                list_insert
                0x0000000000101ea7                list_unlink
                0x0000000000101ee0                list_delete
                0x0000000000101f1a                list_empty
 *(.gnu.warning)

.fini
 *(.fini)
                0x0000000000101f8c                PROVIDE (__etext, .)
                0x0000000000101f8c                PROVIDE (_etext, .)
                0x0000000000101f8c                PROVIDE (etext, .)

.rodata
 *(.rodata .rodata.* .gnu.linkonce.r.*)

.rodata1
 *(.rodata1)

.eh_frame_hdr
 *(.eh_frame_hdr)

.eh_frame       0x0000000000101f8c      0x8e4
 *(.eh_frame)
 .eh_frame      0x0000000000101f8c      0x2f4 bin/micro-kernel.o
                                        0x354 (size before relaxing)
 .eh_frame      0x0000000000102280      0x4f0 bin/arch.o
                                        0x5b0 (size before relaxing)
 .eh_frame      0x0000000000102770      0x100 bin/lib.o
                                        0x130 (size before relaxing)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)
                0x0000000000102870                . = (ALIGN (0x1000) - ((0x1000 - .) & 0xfff))
                0x0000000000103000                . = DATA_SEGMENT_ALIGN (0x1000, 0x1000)

.eh_frame
 *(.eh_frame)

.gcc_except_table
 *(.gcc_except_table .gcc_except_table.*)

.exception_ranges
 *(.exception_ranges .exception_ranges*)

.tdata
 *(.tdata .tdata.* .gnu.linkonce.td.*)

.tbss
 *(.tbss .tbss.* .gnu.linkonce.tb.*)
 *(.tcommon)

.preinit_array  0x0000000000103000        0x0
                0x0000000000103000                PROVIDE (__preinit_array_start, .)
 *(.preinit_array)
                0x0000000000103000                PROVIDE (__preinit_array_end, .)

.init_array     0x0000000000103000        0x0
                0x0000000000103000                PROVIDE (__init_array_start, .)
 *(SORT(.init_array.*) SORT(.ctors.*))
 *(.init_array)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .ctors)
                0x0000000000103000                PROVIDE (__init_array_end, .)

.fini_array     0x0000000000103000        0x0
                0x0000000000103000                PROVIDE (__fini_array_start, .)
 *(SORT(.fini_array.*) SORT(.dtors.*))
 *(.fini_array)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o *crtbegin?.o *crtbegin.o) .dtors)
                0x0000000000103000                PROVIDE (__fini_array_end, .)

.ctors
 *crtbegin.o(.ctors)
 *crtbegin?.o(.ctors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .ctors)
 *(SORT(.ctors.*))
 *(.ctors)

.dtors
 *crtbegin.o(.dtors)
 *crtbegin?.o(.dtors)
 *(EXCLUDE_FILE(*crtend?.o *crtend.o) .dtors)
 *(SORT(.dtors.*))
 *(.dtors)

.jcr
 *(.jcr)

.data.rel.ro
 *(.data.rel.ro.local* .gnu.linkonce.d.rel.ro.local.*)
 *(.data.rel.ro* .gnu.linkonce.d.rel.ro.*)

.dynamic
 *(.dynamic)

.got
 *(.got)
 *(.igot)
                0x0000000000103000                . = DATA_SEGMENT_RELRO_END (., 0xc)

.got.plt        0x0000000000103000        0x0
 *(.got.plt)
 *(.igot.plt)
 .igot.plt      0x0000000000000000        0x0 bin/micro-kernel.o

.data           0x0000000000103000       0x18
 *(.data .data.* .gnu.linkonce.d.*)
 .data          0x0000000000103000       0x18 bin/micro-kernel.o
                0x0000000000103000                mod_table_data
                0x000000000010300c                msg_stack
 .data          0x0000000000103018        0x0 bin/arch.o
 .data          0x0000000000103018        0x0 bin/lib.o

.data1
 *(.data1)
                0x0000000000103018                _edata = .
                0x0000000000103018                PROVIDE (edata, .)
                0x0000000000103018                __bss_start = .

.bss            0x0000000000103020     0x1d20
 *(.dynbss)
 *(.bss .bss.* .gnu.linkonce.b.*)
 .bss           0x0000000000103020       0x80 bin/micro-kernel.o
                0x0000000000103020                mod_table
 .bss           0x00000000001030a0        0x4 bin/arch.o
 .bss           0x00000000001030a4        0x0 bin/lib.o
 *(COMMON)
 *fill*         0x00000000001030a4       0x1c 00
 COMMON         0x00000000001030c0     0x12a0 bin/micro-kernel.o
                0x00000000001030c0                msg_reg_table
                0x00000000001042c0                thread_table
                0x0000000000104340                thread_queue_ready
                0x0000000000104348                ret_addr
                0x000000000010434c                err_code
                0x0000000000104350                thread_queue_sleep
                0x0000000000104358                thread_run
                0x000000000010435c                thread_table_data
 COMMON         0x0000000000104360      0x9e0 bin/arch.o
                0x0000000000104360                gdt_table
                0x0000000000104460                idt_ptr
                0x0000000000104480                tss
                0x00000000001044ec                gdt_ptr
                0x00000000001044f2                tss_sel
                0x00000000001044f4                ldt_ptr
                0x0000000000104500                idt_table
                0x0000000000104d00                ldt_table
                0x0000000000104d40                . = ALIGN ((. != 0x0)?0x4:0x1)
                0x0000000000104d40                . = ALIGN (0x4)
                0x0000000000104d40                . = ALIGN (0x4)
                0x0000000000104d40                _end = .
                0x0000000000104d40                PROVIDE (end, .)
                0x0000000000104d40                . = DATA_SEGMENT_END (.)

.stab
 *(.stab)

.stabstr
 *(.stabstr)

.stab.excl
 *(.stab.excl)

.stab.exclstr
 *(.stab.exclstr)

.stab.index
 *(.stab.index)

.stab.indexstr
 *(.stab.indexstr)

.comment        0x0000000000000000       0x2a
 *(.comment)
 .comment       0x0000000000000000       0x2a bin/micro-kernel.o
                                         0xd7 (size before relaxing)
 .comment       0x0000000000000000      0x158 bin/arch.o
 .comment       0x0000000000000000       0x56 bin/lib.o

.debug
 *(.debug)

.line
 *(.line)

.debug_srcinfo
 *(.debug_srcinfo)

.debug_sfnames
 *(.debug_sfnames)

.debug_aranges
 *(.debug_aranges)

.debug_pubnames
 *(.debug_pubnames)

.debug_info
 *(.debug_info .gnu.linkonce.wi.*)

.debug_abbrev
 *(.debug_abbrev)

.debug_line
 *(.debug_line)

.debug_frame
 *(.debug_frame)

.debug_str
 *(.debug_str)

.debug_loc
 *(.debug_loc)

.debug_macinfo
 *(.debug_macinfo)

.debug_weaknames
 *(.debug_weaknames)

.debug_funcnames
 *(.debug_funcnames)

.debug_typenames
 *(.debug_typenames)

.debug_varnames
 *(.debug_varnames)

.debug_pubtypes
 *(.debug_pubtypes)

.debug_ranges
 *(.debug_ranges)

.gnu.attributes
 *(.gnu.attributes)

/DISCARD/
 *(.note.GNU-stack)
 *(.gnu_debuglink)
 *(.gnu.lto_*)
OUTPUT(bin/kernel.bin elf32-i386)

memory          0x0000000000015000      0x210
 memory         0x0000000000015000      0x210 bin/arch.o
                0x0000000000015000                mem_info
                0x0000000000015200                mem_mcr_number
                0x0000000000015204                mem_size
                0x0000000000015208                mem_used_map
                0x000000000001520c                mem_used_map_max
